# 动态规划

#### 闫氏 DP 分析法

从集合角度分析 DP 问题（有限集中的最优化问题）

- 状态表示 f(i)：化零为整，将具有相似点的元素化为一个子集，用一个状态来表示。
  - 集合：f(i) 表示所有满足某某条件的方案的集合。
  - 属性：f(i) 存的是集合的属性（max / min / count）。

- 状态计算：化整为零，将 f(i) 划分为若干不重（求数量时需要）不漏的子集来计算。
  - 如果 f(i) 的属性是最大值，那么整个集合的最大值就是每个子集的最大值求个 max。
  - 如果 f(i) 的属性是数量，那么整个集合的总数量就是每个子集的数量之和。
  - 集合划分：寻找最后一个不同点来划分集合。

#### 优化

- 如果状态转移使用的是上一层的状态时，我们就从大到小枚举体积。

  这样可以保证计算当前状态时所用到的体积没有被计算过，存的是上一层的状态。

- 如果状态转移使用的是本层的状态时，我们就从小到大枚举体积。

#### 下标起始位置

在计算时，如果我们需要使用到下标 i - 1 的话，那么下标的起始位置最好从 1 开始。

这样当 i == 1 时，i - 1 等于 0 不会越界，可以给 f(0) 设置一个边界值。

#### 时间复杂度

时间复杂度 = 状态数量 * 转移的计算量（也就是获得该状态的计算量）

#### 记录方案

动态规划记录方案就是将状态转移过程记录下来。